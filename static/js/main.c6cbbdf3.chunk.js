(this["webpackJsonp27-10-21"]=this["webpackJsonp27-10-21"]||[]).push([[5],{122:function(e,t,n){"use strict";n.r(t);var r=n(42),a=n(28),c=n(20),i=Object(c.b)({name:"auth",initialState:{user:"",email:"",login:!1,token:"",changed:!1},reducers:{loginHandler:function(e,t){var n=t.payload;e.token=n,e.changed=!0,localStorage.setItem("AccessToken",n)},logoutHandler:function(e){e.token="",e.changed=!0,localStorage.removeItem("AccessToken")},replaceLogin:function(e,t){e.login=t.payload.login}}}),o=(i.actions,i),s=n(29),u=Object(c.b)({name:"products",initialState:{products:[]},reducers:{replaceProducts:function(e,t){e.products=t.payload}}}),l=u.actions,p=u,d=Object(c.a)({reducer:{cart:s.b.reducer,auth:o.reducer,products:p.reducer}}),b=n(140),f=n(0),j=n.n(f),m=n(36),h=n.n(m),O=(n(87),n(6)),x=n.n(O),g=n(15),v=n(4),y=n(141),P=n(65),I="cart",C=n(3),S=Object(f.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(12)]).then(n.bind(null,537))})),w=Object(f.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(7),n.e(16)]).then(n.bind(null,543))})),k=Object(f.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(11)]).then(n.bind(null,539))})),z=Object(f.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(10),n.e(15)]).then(n.bind(null,545))})),N=Object(f.lazy)((function(){return n.e(17).then(n.bind(null,532))})),A=Object(f.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(13)]).then(n.bind(null,533))})),q=Object(f.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(8)]).then(n.bind(null,534))})),D=Object(f.lazy)((function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,535))}));var E=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.cart}));return Object(f.useEffect)((function(){try{e((function(e){var t=JSON.parse(localStorage.getItem(I));e(s.a.replaceCart(t))}))}catch(t){console.log(t+" Loi ")}document.title="27-10-2021"}),[]),Object(f.useEffect)((function(){t.isInitial||function(e){localStorage.setItem(I,JSON.stringify({items:e.items,totalPriceCart:e.totalPriceCart}))}(t)}),[t]),Object(f.useEffect)(Object(g.a)(x.a.mark((function t(){var n,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){var e=Object(g.a)(x.a.mark((function e(){var t,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.getAll();case 2:for(r in t=e.sent,n=[],t)n.push(t[r]);return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.prev=1,t.next=4,n();case 4:r=t.sent,e(l.replaceProducts(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("Some thing went wrong "+t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),[e]),Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(f.Suspense,{fallback:Object(C.jsx)(y.a,{sx:{width:200,height:200,display:"flex",justifyContent:"center",alginItems:"center"}}),children:Object(C.jsxs)(v.d,{children:[Object(C.jsx)(v.b,{path:"/",element:Object(C.jsx)(v.a,{to:"/products"})}),Object(C.jsx)(v.b,{path:"/products",element:Object(C.jsx)(S,{})}),Object(C.jsx)(v.b,{path:"/products/:productId",element:D}),Object(C.jsx)(v.b,{path:"/news",element:Object(C.jsx)(N,{})}),Object(C.jsx)(v.b,{path:"/about",children:"About"}),Object(C.jsx)(v.b,{path:"/login",element:Object(C.jsx)(A,{})}),Object(C.jsx)(v.b,{path:"/register",element:Object(C.jsx)(q,{})}),Object(C.jsx)(v.b,{path:"/cart",element:Object(C.jsx)(z,{})}),Object(C.jsx)(v.b,{path:"/admin",element:Object(C.jsx)(k,{})}),Object(C.jsx)(v.b,{path:"checkout",element:Object(C.jsx)(w,{})})]})})})},F=function(e){e&&e instanceof Function&&n.e(18).then(n.bind(null,536)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};h.a.render(Object(C.jsx)(j.a.StrictMode,{children:Object(C.jsx)(a.a,{store:d,children:Object(C.jsxs)(r.a,{children:[Object(C.jsx)(b.a,{}),Object(C.jsx)(E,{})]})})}),document.getElementById("root")),F()},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20),a=Object(r.b)({name:"cart",initialState:{isInitial:!0,items:[],totalPriceCart:0,isCanNext:!1,fullname:"",address:"",phone:"",cardName:"",cardNumber:"",cardExp:"",cardCvv:""},reducers:{addItemToCart:function(e,t){e.isInitial=!1;var n=t.payload;e.totalPriceCart+=n.price;var r=e.items.find((function(e){return e.id===n.id}));r?(r.quantity++,r.totalPriceOfItem+=n.price):e.items.push({id:n.id,name:n.title,quantity:1,price:n.price,totalPriceOfItem:n.price})},replaceCart:function(e,t){e.items=t.payload.items,e.totalPriceCart=t.payload.totalPriceCart,e.isInitial=!0},removeItemFromCart:function(e,t){e.isInitial=!1;var n=t.payload,r=e.items.find((function(e){return e.id===n}));e.totalPriceCart-=r.price,1===r.quantity?e.items=e.items.filter((function(e){return e.id!==n})):(r.quantity--,r.totalPriceOfItem-=r.price)},resetInitial:function(e){e.isInitial=!0},gotoNextStep:function(e){e.isCanNext=!0},resetStep:function(e){e.isCanNext=!1},addAddress:function(e,t){var n=t.name,r=t.address,a=t.phone;e.fullname=n,e.address=r,e.phone=a}}}),c=a.actions;t.b=a},65:function(e,t,n){"use strict";var r=n(6),a=n.n(r),c=n(15),i=n(67),o=n.n(i),s=n(68),u=n.n(s),l=o.a.create({baseURL:"project-2532894124166455430.firebaseapp.com",headers:{"content-type":"application/json"},paramsSerializer:function(e){return u.a.stringify(e)}});l.interceptors.request.use(function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l.interceptors.response.use((function(e){return e&&e.data?e.data:e}),(function(e){throw e}));var p=l,d="https://project-2532894124166455430-default-rtdb.firebaseio.com/products.json",b={getAll:function(e){return p.get(d,{params:e})},get:function(e){return p.get(d,e)},add:function(e){var t=e.id,n=e.title,r=e.image,a=e.previewDescription,c=e.detailDescription,i=e.price;return p.post(d,{id:t,title:n,image:r,previewDescription:a,detailDescription:c,price:i})},post:function(e){return p.post(d,{params:e})}};t.a=b},87:function(e,t,n){}},[[122,6,9]]]);
//# sourceMappingURL=main.c6cbbdf3.chunk.js.map